{"ast":null,"code":"var _jsxFileName = \"/Users/lucasjones/Desktop/repos/Web-Development-Practice/freeCodeCamp projects/quote-machine/src/PlanetBox.js\",\n  _s = $RefreshSig$();\nimport Button from './Button.js';\nimport { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PlanetBox(props) {\n  _s();\n  const initialState = 0;\n  const [count, setCount] = useState(initialState);\n  const [planet, setPlanet] = useState(props.data.results);\n  const imageRef = useRef();\n  useEffect(() => {\n    const watch = setTimeout(() => {\n      console.log('timed');\n    }, 2000);\n    clearTimeout(watch);\n    if (planet != null) {\n      console.log('child render');\n      planet.animate({\n        opacity: [0, 1]\n      }, 800);\n    }\n  }, [planet]);\n  if (!props.data) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 10\n    }, this);\n  }\n  function getRandomPlanet() {\n    const dataResults = props.data.results;\n    var item = dataResults[Math.floor(Math.random() * dataResults.length)];\n    return item;\n  }\n  function getPropertiesAndValues(planetObject) {\n    // preparing the arrays that will be displayed\n    var properties = [];\n    var values = [];\n    Object.keys(planetObject).slice(0, -5).map((key, index) => {\n      properties.push(key);\n      values.push(planetObject[key]);\n    });\n    for (let i = 0; i < properties.length; i++) {\n      properties[i] = properties[i].replace(/_/g, ' ');\n    }\n    return [properties, values];\n  }\n  function imageImport(r) {\n    // creating a custom context using require.context\n    // reference here: https://webpack.js.org/guides/dependency-management/#require-context\n    let images = {};\n    r.keys().forEach((item, index) => {\n      images[item.replace('./', '').split('.')[0]] = r(item);\n    });\n    return images;\n  }\n  const allImages = imageImport(require.context('./images/', false));\n  console.log(planet);\n  function handleClick() {\n    // setCount(prevCount => prevCount + 1)\n    planet.animate({\n      opacity: [1, 0]\n    }, 800);\n    setPlanet(planet);\n    console.log('count:', count, 'image', imageRef.current);\n  }\n  var randomPlanet = getRandomPlanet();\n  // if (!planet) {\n  // \tsetPlanet(planet);\n  // }\n\n  // the space in Yavin IV was causing strange behavior in which the image was correctly indexed from the allImages object, but was not displaying, despite all the other data doing so. Modifying the image filename to swap the space for a hyphen and changing the fetched item name resolves the issue, though surely there's a more robust approach with larger datasets.\n  if (randomPlanet.name === 'Yavin IV') {\n    randomPlanet.name = 'Yavin-IV';\n  }\n  const [propertiesArr, valuesArr] = getPropertiesAndValues(randomPlanet);\n  // console.log(propertiesArr, valuesArr)\n\n  // To-Dos:\n  // break up this big component? (4)\n  // assign some slight and themed bg color swap depending on planet (2)\n  // fix all the unstructured css names (5)\n  // prevent the current planet from loading again (1)\n  // allow visit to any specific planet with the little bottom dots? (3)\n  // create fade animation when switching planet images\n  // make sure you can't switch count for the planet swap as the state change\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"planet-box\",\n    ref: imageRef,\n    style: {\n      background: 'radial-gradient(rgba(0, 0, 0, 0.1) 50%, rgba(0, 0, 0, 0.3) 90%)',\n      backgroundImage: 'url(' + allImages[randomPlanet.name] + ')',\n      backgroundSize: 'cover'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      id: \"planet-title\",\n      children: randomPlanet.name === 'Yavin-IV' ? 'Yavin-iv' : randomPlanet.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fetched\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fetched-keys\",\n        children: propertiesArr.map(i => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"fetched-item\",\n            children: [i, \":\"]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 8\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fetched-values\",\n        children: valuesArr.map(i => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"fetched-item\",\n            children: i\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 8\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"new-planet\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        handleClick: handleClick,\n        id: \"new-planet-text\",\n        text: \"Visit New Planet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 3\n  }, this);\n}\n_s(PlanetBox, \"R6AcwXbdzA6UcYUZWSZUNJLWfcI=\");\n_c = PlanetBox;\nexport default PlanetBox;\nvar _c;\n$RefreshReg$(_c, \"PlanetBox\");","map":{"version":3,"names":["Button","useState","useEffect","useRef","PlanetBox","props","initialState","count","setCount","planet","setPlanet","data","results","imageRef","watch","setTimeout","console","log","clearTimeout","animate","opacity","getRandomPlanet","dataResults","item","Math","floor","random","length","getPropertiesAndValues","planetObject","properties","values","Object","keys","slice","map","key","index","push","i","replace","imageImport","r","images","forEach","split","allImages","require","context","handleClick","current","randomPlanet","name","propertiesArr","valuesArr","background","backgroundImage","backgroundSize"],"sources":["/Users/lucasjones/Desktop/repos/Web-Development-Practice/freeCodeCamp projects/quote-machine/src/PlanetBox.js"],"sourcesContent":["import Button from './Button.js';\nimport { useState, useEffect, useRef} from 'react';\n\n\nfunction PlanetBox(props) {\n\tconst initialState = 0;\n\tconst [count, setCount] = useState(initialState);\n\tconst [planet, setPlanet] = useState(props.data.results);\n\tconst imageRef = useRef();\n\n\n\tuseEffect(() => {\n\t\tconst watch = setTimeout(() => {\n\t\t\tconsole.log('timed')\n\t\t}, 2000)\n\n\t\tclearTimeout(watch)\n\n\t\tif (planet != null) {\n\t\t\tconsole.log('child render')\n\t\t\tplanet.animate(\n\t\t\t{\n\t\t\t\topacity: [0, 1]\n\t\t\t}, 800)\n\t\t}\n\t}, [planet])\n\n\n\tif (!props.data) {\n\t\treturn <div className='loading'>loading...</div>\n\t}\n\n\n\tfunction getRandomPlanet() {\n\t\tconst dataResults = props.data.results\n\n\t\tvar item = dataResults[Math.floor(Math.random() * dataResults.length)];\n\n\t\treturn item\n\t}\n\n\n\tfunction getPropertiesAndValues(planetObject) {\n\n\t\t// preparing the arrays that will be displayed\n\t\tvar properties = []\n\t\tvar values = []\n\t\tObject.keys(planetObject).slice(0, -5).map((key, index) => {\n\t\t\tproperties.push(key);\n\t\t\tvalues.push(planetObject[key])\n\t\t})\n\n\t\tfor (let i = 0; i < properties.length; i++) {\n\t\t\tproperties[i] = properties[i].replace(/_/g, ' ');\n\t\t}\n\t\treturn [properties, values]\n\t}\n\n\tfunction imageImport(r) {\n\t\t// creating a custom context using require.context\n\t\t// reference here: https://webpack.js.org/guides/dependency-management/#require-context\n\t\tlet images = {}\n\t\tr.keys().forEach((item, index) => {\n\t\t\timages[item.replace('./', '').split('.')[0]] = r(item);\n\t\t});\n\t\treturn images\n\t}\n     \n\tconst allImages = imageImport(require.context('./images/', false))\n\n\tconsole.log(planet)\n\tfunction handleClick() {\n\t\t// setCount(prevCount => prevCount + 1)\n\t\tplanet.animate(\n\t\t\t{\n\t\t\t\topacity: [1, 0]\n\t\t\t}, 800);\n\t\tsetPlanet(planet);\n\n\t\tconsole.log('count:', count, 'image', imageRef.current)\n\t}\n\n\n\tvar randomPlanet = getRandomPlanet()\n\t// if (!planet) {\n\t// \tsetPlanet(planet);\n\t// }\n\n\t// the space in Yavin IV was causing strange behavior in which the image was correctly indexed from the allImages object, but was not displaying, despite all the other data doing so. Modifying the image filename to swap the space for a hyphen and changing the fetched item name resolves the issue, though surely there's a more robust approach with larger datasets.\n\tif (randomPlanet.name === 'Yavin IV') {\n\t\trandomPlanet.name = 'Yavin-IV' \n\t} \n\n\tconst [propertiesArr, valuesArr] = getPropertiesAndValues(randomPlanet)\n\t// console.log(propertiesArr, valuesArr)\n\n\n\t\n\n\t\n\n\n\n\t\n\n\n\t\n\n\n\t// To-Dos:\n\t// break up this big component? (4)\n\t// assign some slight and themed bg color swap depending on planet (2)\n\t// fix all the unstructured css names (5)\n\t// prevent the current planet from loading again (1)\n\t// allow visit to any specific planet with the little bottom dots? (3)\n\t// create fade animation when switching planet images\n\t// make sure you can't switch count for the planet swap as the state change\n\n\n\treturn(\n\t\t<div id='planet-box'\n\t\t\tref={imageRef}\n\t\t\tstyle={{\n\t\t\t\tbackground: 'radial-gradient(rgba(0, 0, 0, 0.1) 50%, rgba(0, 0, 0, 0.3) 90%)',\n\t\t\t\tbackgroundImage: 'url('+allImages[randomPlanet.name]+')',\n\t\t\t\tbackgroundSize: 'cover'\n\t\t\t}}\n\t\t> \t\n\t\t\t<h1 id='planet-title'>{randomPlanet.name === 'Yavin-IV' ? 'Yavin-iv' : randomPlanet.name}</h1>\n\n\t\t\t<div className='fetched'>\n\t\t\t\t<div className='fetched-keys'>\n\t\t\t\t\t{propertiesArr.map(i => {\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<li className='fetched-item' key={i}>{i}:</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className='fetched-values'>\n\t\t\t\t\t{valuesArr.map(i => {\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<li className='fetched-item' key={i}>{i}</li>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t})\n\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id='new-planet'>\n\t\t\t\t<Button handleClick={handleClick} id='new-planet-text' text='Visit New Planet'/>\n\t\t\t</div>\n\n\t\t</div>\n\t);\n}\n\nexport default PlanetBox;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}